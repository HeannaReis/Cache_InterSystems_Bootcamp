Class treinamento.person Extends (%Persistent, %Populate)
{

/// Parameter the class
Parameter NEWPARAMETER = "test";

Parameter SPICIES = "HomoSapiens";

Property name As %String(MAXLEN = "") [ Required ];

Property company As %String(MAXLEN = "");

Property phoneNumber As %Integer;

Property workAdrees As treinamento.adress;

Property homeAdress As treinamento.adress;

Property bank As treinamento.bank;

/// Description
ClassMethod forNameDinamic(name As %String, company As %String) As %Status
{
    Set statement = ##class(%SQL.Statement).%New()
    Set query = "SELECT name, phoneNumber, company FROM treinamento.person WHERE (name %STARTSWITH ?) AND (company %STARTSWITH ?) order by name"
    Set status = statement.%Prepare(query)

    If ($$$ISOK(status)){
        Set resultSet = statement.%Execute(name, company)
        While (resultSet.%Next()) {
            write !, resultSet.%Get("name")
            write !, resultSet.%Get("phoneNumber")
            write !, resultSet.%Get("company")
            write !, ""
        }
    }
    kill resultSet
    Return status
}

Storage Default
{
<Data name="personDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>name</Value>
</Value>
<Value name="3">
<Value>age</Value>
</Value>
<Value name="4">
<Value>adress</Value>
</Value>
<Value name="5">
<Value>Copany</Value>
</Value>
<Value name="6">
<Value>phoneNumber</Value>
</Value>
<Value name="7">
<Value>jobAdreee</Value>
</Value>
<Value name="8">
<Value>homeAdress</Value>
</Value>
<Value name="9">
<Value>bank</Value>
</Value>
<Value name="10">
<Value>company</Value>
</Value>
<Value name="11">
<Value>jobAdrees</Value>
</Value>
<Value name="12">
<Value>workAdrees</Value>
</Value>
</Data>
<DataLocation>^treinamento.personD</DataLocation>
<DefaultData>personDefaultData</DefaultData>
<ExtentSize>108</ExtentSize>
<IdLocation>^treinamento.personD</IdLocation>
<IndexLocation>^treinamento.personI</IndexLocation>
<Property name="%%CLASSNAME">
<AverageFieldSize>2</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,16,$lb("-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000"),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320))</Histogram>
<Selectivity>100.0000%</Selectivity>
</Property>
<Property name="%%ID">
<AverageFieldSize>3</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,1,0,$lb(1,9,17,25,32,39,46,53,60,67,74,81,88,95,102,109),$lb(0,0,0,0,1,0,0,0,1,0,0,1,0,0,2),$lb(822083584,822083584,956301312,956301312,825688064,825688064,842334208,842334208,858914816,838860800,956301312,859373568,875954176,875954176,892534784,892534784,909115392,805306368,922746880,909574144,926154752,926154752,942735360,822083584,939524096,943194112,959774720,959774720,825242112,838860800,956301312,825243904))</Histogram>
<Selectivity>1</Selectivity>
</Property>
<Property name="age">
<AverageFieldSize>3</AverageFieldSize>
<Selectivity>100.0000%</Selectivity>
</Property>
<Property name="bank">
<AverageFieldSize>2</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,1,16,$lb(-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320))</Histogram>
<Selectivity>100.0000%</Selectivity>
</Property>
<Property name="company">
<AverageFieldSize>17.65</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,0,$lb(" "," "," BIOSONICS PARTNERS"," DYNATEL GMBH."," GLOBAWARE LLC."," INTERPEDIA MEDIA INC."," KWALPLEX PARTNERS"," MEGATEL LLC."," MICRODATA ASSOCIATES"," OCTOSONICS MEDIA INC."," PICOSYS GMBH."," ROBOSYS INC."," SYNERSOFT INC."," TELEMO GMBH."," XENAGY INC."," YOYOWARE HOLDINGS INC."),$lb(2,1,1,1,1,1,1,2,1,1,1,1,1,1,1),$lb(536870912,0,0,0,1112100691,1112100691,1146703425,1146703425,1196183362,1196183362,1229870149,1229870149,1264009548,1264009548,1296385857,1162297684,1229148751,1296646994,1329812559,1329812559,1346978639,1346978639,1380926031,1380926031,1398361669,1398361669,1413827653,1413827653,1480937025,1480937025,1498372431,542723929))</Histogram>
<OutlierSelectivity>.074074:</OutlierSelectivity>
<Selectivity>0.9259%</Selectivity>
</Property>
<Property name="homeAdress">
<AverageFieldSize>2,number:2,street:2</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,16,$lb("-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000"),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320)),number:$lb(.06666666666666666667,1,16,$lb(-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320)),street:$lb(.06666666666666666667,0,0,$lb(" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "),$lb(2,2,2,2,2,2,2,2,2,2,2,2,2,2,2),$lb(536870912,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,536870912))</Histogram>
<Selectivity>100.0000%,number:100.0000%,street:100.0000%</Selectivity>
</Property>
<Property name="name">
<AverageFieldSize>16.91</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,0,$lb(" ADAMS,TARA M."," CHADBOURNE,CHRISTINE O."," EDWARDS,BELINDA Z."," GABORIAULT,JULIE H."," INGERSOL,CHRISTEN E."," JOEL"," KOIVU,PHIL V."," MARIA"," O'BRIEN,MARY F."," PEREZ,JOSE L."," ROENTGEN,ALICE Y."," SVERDLOV,USHA J."," UHLES,BARB E."," WILLEKE,LIZA N."," YANG,JANICE N."," ZUCHERRO,SUSAN F."),$lb(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),$lb(541148225,1094992205,1128808772,1128808772,1162106689,1162106689,1195459151,1195459151,1229866821,1229866821,1246709068,1246709068,1263487318,1263487318,1296126537,1296126537,1327972946,1327972946,1346720325,1346720325,1380926798,1380926798,1398162770,1398162770,1430801477,1430801477,1464421452,1464421452,1497452103,1497452103,1515537224,542790979))</Histogram>
<Selectivity>0.9346%</Selectivity>
</Property>
<Property name="phoneNumber">
<AverageFieldSize>5.68</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,1,2,$lb(-10000000000000000000,-10000000000000000000,87546273,173173937,292862630,324727916,385311631,454083298,508759968,601002342,648034534,736640457,767391192,851794829,916327307,999317463),$lb(21,0,0,0,0,1,0,0,0,1,0,1,0,0,1),$lb(758198320,0,0,758198320,943142196,943142196,825701169,825701169,842609208,842609208,858928183,842282802,943010609,859321651,875902000,875902000,892352567,892352567,909127984,808529968,876097587,909391920,926103094,859190836,909587257,926299955,943010103,943010103,959526451,825635634,960049969,960051507))</Histogram>
<OutlierSelectivity>.074074:</OutlierSelectivity>
<Selectivity>0.9259%</Selectivity>
</Property>
<Property name="workAdrees">
<AverageFieldSize>2,number:2,street:2</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,16,$lb("-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000"),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320)),number:$lb(.06666666666666666667,1,16,$lb(-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000,-10000000000000000000),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320)),street:$lb(.06666666666666666667,0,0,$lb(" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "),$lb(2,2,2,2,2,2,2,2,2,2,2,2,2,2,2),$lb(536870912,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,536870912))</Histogram>
<Selectivity>100.0000%,number:100.0000%,street:100.0000%</Selectivity>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-4</BlockCount>
</SQLMap>
<StreamLocation>^treinamento.personS</StreamLocation>
<Type>%Storage.Persistent</Type>
}

}
